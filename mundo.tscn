[gd_scene format=3 uid="uid://d3puk4jbpbt76"]

[ext_resource type="Script" uid="uid://bs36ay6fs4mbx" path="res://playerMovimiento.gd" id="1_aou4a"]
[ext_resource type="Texture2D" uid="uid://bcyo7ebixsupc" path="res://assets/recursos/suelo/Tiles107_2K-JPG_Color.jpg" id="2_pij3u"]
[ext_resource type="Texture2D" uid="uid://cstuiltt1fvh0" path="res://assets/recursos/suelo/Tiles107_2K-JPG_AmbientOcclusion.jpg" id="3_0oi55"]
[ext_resource type="PackedScene" uid="uid://cjuiy55kep46a" path="res://assets/3d/mannequiny/mannequiny-0.3.0.glb" id="3_fw4w5"]
[ext_resource type="Texture2D" uid="uid://chmreqetm8lfr" path="res://assets/recursos/suelo/Tiles107_2K-JPG_NormalDX.jpg" id="4_57gmc"]
[ext_resource type="Texture2D" uid="uid://5xi4xv4n21yk" path="res://assets/recursos/crosshair.svg" id="4_otwa2"]
[ext_resource type="Texture2D" uid="uid://cyw80r1sbq83e" path="res://assets/recursos/suelo/Tiles107_2K-JPG_Roughness.jpg" id="5_0crsg"]
[ext_resource type="Texture2D" uid="uid://c0ilsw0wqo1p2" path="res://assets/recursos/pared/PaintedPlaster016_2K-JPG_Color.jpg" id="5_5g5eo"]
[ext_resource type="Script" uid="uid://cgjcq7do14hhu" path="res://menu_pausa.gd" id="5_aou4a"]
[ext_resource type="AudioStream" uid="uid://mx48gi5v58cj" path="res://assets/recursos/Recoger.wav" id="6_5ckkb"]
[ext_resource type="Texture2D" uid="uid://bks4tv0rrkxmd" path="res://assets/recursos/pared/PaintedPlaster016_2K-JPG_AmbientOcclusion.jpg" id="6_lwdvv"]
[ext_resource type="Texture2D" uid="uid://2xdc3i2nl6k0" path="res://assets/recursos/pared/PaintedPlaster016_2K-JPG_NormalDX.jpg" id="7_qobow"]
[ext_resource type="Texture2D" uid="uid://cx05kxmnucqhw" path="res://assets/recursos/pared/PaintedPlaster016_2K-JPG_Roughness.jpg" id="8_744hw"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5g5eo"]
albedo_texture = ExtResource("2_pij3u")
roughness_texture = ExtResource("5_0crsg")
normal_enabled = true
normal_texture = ExtResource("4_57gmc")
ao_enabled = true
ao_texture = ExtResource("3_0oi55")
uv1_scale = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8wx08"]
albedo_color = Color(0.47843137, 0.50980395, 0.41568628, 1)
albedo_texture = ExtResource("5_5g5eo")
roughness_texture = ExtResource("8_744hw")
normal_enabled = true
normal_texture = ExtResource("7_qobow")
ao_enabled = true
ao_texture = ExtResource("6_lwdvv")
uv1_scale = Vector3(0.3, 0.3, 0.3)
uv1_triplanar = true

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0oi55"]
radius = 0.39794922
height = 1.9616699

[sub_resource type="LabelSettings" id="LabelSettings_aou4a"]
font_size = 12

[sub_resource type="LabelSettings" id="LabelSettings_5ckkb"]
line_spacing = 12.0
font_size = 27

[sub_resource type="Environment" id="Environment_5ckkb"]
background_mode = 1
ambient_light_color = Color(0.039215688, 0.06666667, 0.15686275, 1)
ambient_light_energy = 0.1

[sub_resource type="BoxMesh" id="BoxMesh_aou4a"]

[sub_resource type="Skin" id="Skin_5ckkb"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_aou4a"]
albedo_color = Color(0.84705883, 0, 0.15686275, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_t8jxu"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2hh7m"]
albedo_color = Color(0.3933881, 0.22765025, 0.13260698, 1)

[node name="Juego" type="Node3D" unique_id=83092484]

[node name="Mapa" type="Node3D" parent="." unique_id=1148766541]

[node name="PisoPasillo1" type="CSGBox3D" parent="Mapa" unique_id=97066237]
transform = Transform3D(1, 0, 0, 0, 0.99698967, 0, 0, 0, 1, 18.542953, -0.0057361573, -7.039809)
use_collision = true
size = Vector3(16.880371, 0.5, 6)
material = SubResource("StandardMaterial3D_5g5eo")

[node name="PisoSpawn" type="CSGBox3D" parent="Mapa" unique_id=874752362]
transform = Transform3D(1, 0, 0, 0, 0.99698967, 0, 0, 0, 1, 0.106374264, -0.0057361573, 0.46019077)
use_collision = true
size = Vector3(20, 0.5, 21)
material = SubResource("StandardMaterial3D_5g5eo")

[node name="ParedSpawn" type="CSGBox3D" parent="Mapa" unique_id=410375667]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.0806249, 0.22343826, 1.9728386, -10.253725)
use_collision = true
size = Vector3(20.2, 4.443344, 0.4)
material = SubResource("StandardMaterial3D_8wx08")

[node name="Player" type="CharacterBody3D" parent="." unique_id=419380635]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.46330106, 0)
script = ExtResource("1_aou4a")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player" unique_id=1712891842]
transform = Transform3D(0.9, 0, 0, 0, 1, 0, 0, 0, 0.65, 0, 1.4389637, -0.48619133)
shape = SubResource("CapsuleShape3D_0oi55")

[node name="mannequiny" parent="Player" unique_id=111092519 instance=ExtResource("3_fw4w5")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, 0.5717195, -0.26022488)

[node name="Skeleton3D" parent="Player/mannequiny/root" parent_id_path=PackedInt32Array(111092519, 1815305745) index="0" unique_id=1809022158]
bones/0/position = Vector3(-0.007307384, 0.9654905, 0.25549558)
bones/0/rotation = Quaternion(0.13070604, 0.14469047, -0.0101097515, 0.980754)
bones/1/rotation = Quaternion(0.75271225, 0.09952441, 0.65056777, 0.016756935)
bones/1/scale = Vector3(0.9999979, 1.0267481, 1.0000044)
bones/2/position = Vector3(8.5255624e-07, 0.38935488, -9.825674e-07)
bones/2/rotation = Quaternion(-3.8939525e-05, 5.436729e-05, 0.0025685125, 0.9999967)
bones/2/scale = Vector3(0.9999993, 1.0000019, 1.0000004)
bones/3/rotation = Quaternion(0.28140217, 0.5319254, -0.31291062, 0.73481643)
bones/3/scale = Vector3(0.9992977, 0.98942304, 0.98606175)
bones/4/position = Vector3(0.0017238366, 0.12762016, -0.0030856438)
bones/4/rotation = Quaternion(0.103726186, 0.94308287, 0.3149477, -0.025367629)
bones/4/scale = Vector3(1.0001665, 0.9875982, 1.012079)
bones/5/rotation = Quaternion(0.9941461, -0.038358476, -0.013544379, 0.10009365)
bones/5/scale = Vector3(0.99999684, 1.0086166, 0.99999875)
bones/6/position = Vector3(1.5400815e-06, 0.389355, 3.156174e-07)
bones/6/rotation = Quaternion(3.2388089e-06, 2.1178043e-05, 0.002604335, -0.99999666)
bones/6/scale = Vector3(1, 0.9999999, 1.0000001)
bones/7/rotation = Quaternion(0.1267252, -0.84256697, 0.36811975, 0.37216863)
bones/7/scale = Vector3(0.99992704, 0.99591464, 0.9956625)
bones/8/position = Vector3(-0.0008854656, 0.12766366, -0.000791119)
bones/8/rotation = Quaternion(-0.058075935, 0.9462515, 0.31807095, 0.008137224)
bones/8/scale = Vector3(1.0000153, 0.9958951, 1.0040826)
bones/9/rotation = Quaternion(-0.12123615, -0.14759064, 0.012175132, 0.98151445)
bones/10/rotation = Quaternion(-0.07025591, 0.0032932577, 0.00023194312, 0.9975236)
bones/11/rotation = Quaternion(0.31369886, 0.0063864635, 0.0021100992, 0.9494988)
bones/12/rotation = Quaternion(-0.16917026, -0.006661592, -0.0011357308, 0.9855637)
bones/13/position = Vector3(-0.0436113, 0.18081573, 0.02525828)
bones/13/rotation = Quaternion(-0.46732152, 0.6098211, -0.50793016, -0.38953304)
bones/14/rotation = Quaternion(0.4274822, 0.5223352, 0.3677799, 0.63965845)
bones/15/rotation = Quaternion(0.31198627, 0.1263695, 0.236497, 0.91146284)
bones/15/scale = Vector3(1, 0.9997528, 1.0000005)
bones/16/rotation = Quaternion(0.057728797, 0.2828446, -0.006965391, 0.9574016)
bones/16/scale = Vector3(0.9999988, 1.0002441, 1.0000024)
bones/17/position = Vector3(-0.04916461, 0.050085876, -0.004618432)
bones/17/rotation = Quaternion(0.046470214, -0.7869233, 0.31700855, 0.52734995)
bones/17/scale = Vector3(1.0000131, 0.9999838, 1.0000027)
bones/18/position = Vector3(2.886627e-07, 0.021091143, 8.988882e-07)
bones/18/rotation = Quaternion(-0.024222832, -0.3066591, 0.06259777, 0.94944984)
bones/18/scale = Vector3(0.99998987, 0.999995, 1.0000149)
bones/19/rotation = Quaternion(-0.009207851, 0.4387284, 0.008596249, 0.8985315)
bones/19/scale = Vector3(1.0000107, 1.0000001, 0.9999895)
bones/20/position = Vector3(0.024562065, 0.086040944, -0.0014757558)
bones/20/rotation = Quaternion(-0.71307725, 0.123775825, -0.028391754, 0.6894885)
bones/20/scale = Vector3(1.0000036, 1.0000019, 0.9999946)
bones/21/rotation = Quaternion(-0.5855148, -0.020562138, 0.009335237, 0.8103472)
bones/21/scale = Vector3(0.9999998, 1.0000166, 0.99998343)
bones/22/rotation = Quaternion(-0.5874689, -0.0038137638, -0.009848688, 0.8091778)
bones/22/scale = Vector3(0.99999887, 0.99998677, 1.0000126)
bones/23/position = Vector3(-0.0026017658, 0.08686455, 0.00038214005)
bones/23/rotation = Quaternion(-0.45018238, 0.1614633, -0.03635638, 0.8774644)
bones/23/scale = Vector3(1.0000048, 0.9999746, 1.0000209)
bones/24/rotation = Quaternion(-0.6457096, -0.007694994, -0.019443266, 0.76329684)
bones/24/scale = Vector3(0.9999978, 1.0000036, 0.99999726)
bones/25/rotation = Quaternion(-0.63976586, -0.01774108, -0.02005635, 0.7681033)
bones/25/scale = Vector3(0.9999992, 0.99999946, 1.0000004)
bones/26/position = Vector3(-0.032242507, 0.0834219, -0.0018827457)
bones/26/rotation = Quaternion(-0.4256034, 0.14451617, -0.038539615, 0.89246374)
bones/26/scale = Vector3(1.0000044, 0.9999738, 1.0000226)
bones/27/rotation = Quaternion(-0.5835274, 0.0019309085, -0.053686492, 0.8103147)
bones/27/scale = Vector3(0.99999964, 1.0000052, 0.99999547)
bones/28/rotation = Quaternion(-0.59927964, 0.007813819, -0.029631956, 0.7999529)
bones/28/scale = Vector3(0.9999983, 1.0000048, 0.9999952)
bones/29/position = Vector3(0.0435933, 0.18081622, 0.025258828)
bones/29/rotation = Quaternion(0.4673902, 0.6098649, -0.5077821, 0.3895748)
bones/30/rotation = Quaternion(-0.4275014, 0.5223576, 0.3676446, -0.6397051)
bones/31/rotation = Quaternion(0.31197092, -0.12640469, -0.23658173, 0.91144127)
bones/31/scale = Vector3(1.0000002, 0.99993145, 1.0000006)
bones/32/position = Vector3(-7.1592524e-07, 0.20732087, 2.4338815e-06)
bones/32/rotation = Quaternion(0.057768047, -0.28268254, 0.00732747, 0.9574444)
bones/32/scale = Vector3(0.99999887, 1.0000682, 1.0000004)
bones/33/position = Vector3(0.04914312, 0.05008774, -0.004654775)
bones/33/rotation = Quaternion(0.046702955, 0.7870353, -0.31692913, 0.52720994)
bones/33/scale = Vector3(1.000004, 0.9999958, 1.0000005)
bones/34/rotation = Quaternion(-0.024158472, 0.30684873, -0.062417097, 0.9494021)
bones/34/scale = Vector3(0.99999624, 0.99999803, 1.0000042)
bones/35/rotation = Quaternion(-0.0091986535, -0.43853018, -0.008364501, 0.8986305)
bones/35/scale = Vector3(1.0000035, 0.9999993, 0.99999654)
bones/36/position = Vector3(-0.02460531, 0.08604273, -0.0015068996)
bones/36/rotation = Quaternion(-0.7130346, -0.12360227, 0.02920864, 0.68952966)
bones/36/scale = Vector3(1.0000007, 1.0000008, 0.9999982)
bones/37/rotation = Quaternion(-0.58555126, 0.020786941, -0.009220366, 0.8103164)
bones/37/scale = Vector3(0.9999997, 1.0000046, 0.9999952)
bones/38/rotation = Quaternion(-0.587466, 0.003857814, 0.010154226, 0.80917597)
bones/38/scale = Vector3(0.9999996, 0.9999963, 1.0000029)
bones/39/position = Vector3(0.0025596083, 0.08686967, 0.00034868935)
bones/39/rotation = Quaternion(-0.45010397, -0.16124807, 0.03684527, 0.8775237)
bones/39/scale = Vector3(1.0000013, 0.9999932, 1.0000056)
bones/40/rotation = Quaternion(-0.6456956, 0.00768163, 0.01975253, 0.7633008)
bones/40/scale = Vector3(0.9999999, 1.0000017, 0.99999833)
bones/41/rotation = Quaternion(-0.63976216, 0.017770527, 0.020345658, 0.76809806)
bones/42/position = Vector3(0.03220428, 0.08342977, -0.0019183453)
bones/42/rotation = Quaternion(-0.425481, -0.14428757, 0.03902031, 0.8925383)
bones/42/scale = Vector3(1.0000006, 0.99999285, 1.000006)
bones/43/rotation = Quaternion(-0.58350265, -0.0019084197, 0.05400695, 0.8103113)
bones/43/scale = Vector3(0.9999996, 1.0000017, 0.99999803)
bones/44/rotation = Quaternion(-0.59926534, -0.007764767, 0.029895777, 0.7999544)
bones/44/scale = Vector3(0.9999992, 1.0000014, 0.99999845)

[node name="body_001" parent="Player/mannequiny/root/Skeleton3D" index="0" unique_id=7643309]
cast_shadow = 3

[node name="Camera3D" type="Camera3D" parent="Player" unique_id=987889149]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7252903e-08, 2.2052479, -0.9723731)

[node name="Linterna" type="SpotLight3D" parent="Player/Camera3D" unique_id=417473996]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.6)
visible = false
shadow_enabled = true
spot_range = 12.0
spot_angle = 35.0

[node name="RayoInteraccion" type="RayCast3D" parent="Player/Camera3D" unique_id=1865454]
target_position = Vector3(0, 0, -3.5)

[node name="interfaz" type="CanvasLayer" parent="Player" unique_id=119629325]

[node name="TextureRect" type="TextureRect" parent="Player/interfaz" unique_id=79593325]
custom_minimum_size = Vector2(1, 1)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -16.0
offset_top = -16.0
offset_right = 16.0
offset_bottom = 16.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = ExtResource("4_otwa2")
expand_mode = 1

[node name="FondoEstamina" type="ColorRect" parent="Player/interfaz" unique_id=63686922]
offset_left = 16.0
offset_top = 40.0
offset_right = 316.0
offset_bottom = 55.0
color = Color(0, 0, 0, 0.5647059)
metadata/_edit_use_anchors_ = true

[node name="BarraEstamina" type="ColorRect" parent="Player/interfaz/FondoEstamina" unique_id=87105945]
layout_mode = 0
offset_right = 300.0
offset_bottom = 15.0
color = Color(0.105882354, 0.5294118, 1, 1)
metadata/_edit_use_anchors_ = true

[node name="FondoSalud" type="ColorRect" parent="Player/interfaz" unique_id=646240465]
offset_left = 16.0
offset_top = 16.0
offset_right = 316.0
offset_bottom = 31.0
color = Color(0, 0, 0, 0.74509805)
metadata/_edit_use_anchors_ = true

[node name="BarraSalud" type="ColorRect" parent="Player/interfaz/FondoSalud" unique_id=979871161]
layout_mode = 0
offset_right = 300.0
offset_bottom = 15.0
color = Color(0.829998, 0.00015808546, 0.060681127, 1)
metadata/_edit_use_anchors_ = true

[node name="TextoInteraccion" type="Label" parent="Player/interfaz" unique_id=1848963062]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -72.0
offset_top = 4.0
offset_right = 71.0
offset_bottom = 27.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 13
text = "[E] Recoger Objeto"
label_settings = SubResource("LabelSettings_aou4a")
horizontal_alignment = 1
vertical_alignment = 1

[node name="PanelInventario" type="ColorRect" parent="Player/interfaz" unique_id=95525106]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 315.99997
offset_top = 192.0
offset_right = 316.0
offset_bottom = 192.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.44579238, 0.40084755)
color = Color(0, 0, 0, 0.6313726)

[node name="TextoInventario" type="Label" parent="Player/interfaz/PanelInventario" unique_id=174665399]
layout_mode = 0
offset_left = 511.44894
offset_top = 229.51369
offset_right = 653.449
offset_bottom = 315.51367
text = "Gasolina: 0
Madera: 0"
label_settings = SubResource("LabelSettings_5ckkb")
horizontal_alignment = 1
vertical_alignment = 1

[node name="MenuPausa" type="CanvasLayer" parent="Player" unique_id=825676224]
script = ExtResource("5_aou4a")

[node name="ColorRect" type="ColorRect" parent="Player/MenuPausa" unique_id=1428549039]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.6313726)

[node name="VBoxContainer" type="VBoxContainer" parent="Player/MenuPausa/ColorRect" unique_id=680746819]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -56.0
offset_top = -33.0
offset_right = 56.0
offset_bottom = 33.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 18

[node name="continuar" type="Button" parent="Player/MenuPausa/ColorRect/VBoxContainer" unique_id=403102177]
process_mode = 3
layout_mode = 2
text = "Continuar"

[node name="salirDelJuego" type="Button" parent="Player/MenuPausa/ColorRect/VBoxContainer" unique_id=843857870]
process_mode = 3
layout_mode = 2
text = "Salir del Juego"

[node name="SonidoRecoger" type="AudioStreamPlayer" parent="Player" unique_id=2037208432]
stream = ExtResource("6_5ckkb")

[node name="LuzPersonaje" type="OmniLight3D" parent="Player" unique_id=633620284]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8000001, 0.65968406)
light_color = Color(0.6313726, 1, 1, 1)
light_energy = 0.3
omni_range = 3.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=2108903115]
transform = Transform3D(0.16247864, -0.21371245, 0.96329004, 0.035544917, 0.97689664, 0.21073578, -0.98607165, 0, 0.16632122, 33.279907, 9.323355, 0)
visible = false
light_color = Color(0.54901963, 0.7019608, 0.8509804, 1)
light_energy = 0.15
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=646132796]
environment = SubResource("Environment_5ckkb")

[node name="Gasolina" type="StaticBody3D" parent="." unique_id=970900012]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7770956, -3.4005797)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Gasolina" unique_id=631987754]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
mesh = SubResource("BoxMesh_aou4a")
skin = SubResource("Skin_5ckkb")
surface_material_override/0 = SubResource("StandardMaterial3D_aou4a")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Gasolina" unique_id=2077460772]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
shape = SubResource("BoxShape3D_t8jxu")
debug_color = Color(0.4070577, 0.46654558, 1, 0.41960785)

[node name="Madera" type="StaticBody3D" parent="." unique_id=1403249479]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5746613, 0.7770955, -3.4005797)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Madera" unique_id=1108929009]
mesh = SubResource("BoxMesh_aou4a")
skin = SubResource("Skin_5ckkb")
surface_material_override/0 = SubResource("StandardMaterial3D_2hh7m")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Madera" unique_id=1820632241]
shape = SubResource("BoxShape3D_t8jxu")
debug_color = Color(0.4070577, 0.46654558, 1, 0.41960785)

[connection signal="pressed" from="Player/MenuPausa/ColorRect/VBoxContainer/continuar" to="Player/MenuPausa" method="_on_continuar_pressed"]
[connection signal="pressed" from="Player/MenuPausa/ColorRect/VBoxContainer/salirDelJuego" to="Player/MenuPausa" method="_on_salir_del_juego_pressed"]

[editable path="Player/mannequiny"]
